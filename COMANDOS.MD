# üöÄ COMANDOS Y HABILIDADES DE TUCONTABLE

## üìã REGISTRO DE IMPLEMENTACI√ìN

### ‚úÖ **IMPLEMENTADOS**
- [x] VALIDAR_RUT ‚≠ê (30 min) - ‚úÖ COMPLETADO
- [x] CALCULAR_IVA (todas las variantes) ‚≠ê (45 min) - ‚úÖ COMPLETADO
- [x] CALCULAR_RETENCIONES (honorarios y construcci√≥n) ‚≠ê (1 hora) - ‚úÖ COMPLETADO
- [x] CONVERTIR_UF_PESOS ‚≠ê‚≠ê (2-3 horas) - ‚úÖ COMPLETADO
- [x] CONVERTIR_PESOS_UF ‚≠ê‚≠ê (2-3 horas) - ‚úÖ COMPLETADO
- [x] FECHAS_VENCIMIENTO_F29 ‚≠ê‚≠ê (3-4 horas) - ‚úÖ COMPLETADO
- [x] CONSULTAR_ESTADO_SII ‚≠ê‚≠ê‚≠ê‚≠ê (1 d√≠a) - ‚úÖ COMPLETADO
- [x] VERIFICAR_AUTORIZACION_BOLETAS ‚≠ê‚≠ê‚≠ê‚≠ê (1 d√≠a) - ‚úÖ COMPLETADO

### üîÑ **EN DESARROLLO**
- [ ] Ninguno a√∫n

### üìù **PLANIFICADOS**
- [x] CONVERTIR_UF_PESOS
- [x] FECHAS_VENCIMIENTO_F29
- [x] CONSULTAR_ESTADO_SII_BASICO
- [x] OBTENER_F4415_AUTOMATICO
- [x] INTEGRAR_BANCO_MOVIMIENTOS

---

## üü¢ **NIVEL 1: B√ÅSICO (Sin APIs)**

### 1. VALIDAR_RUT
**Complejidad:** ‚≠ê (1/5) | **Tiempo:** 30 min | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "VALIDAR_RUT",
  "parametros": {
    "rut": "12345678-9"
  }
}
```

**Respuesta:**
```json
{
  "valido": true,
  "rut_formateado": "12.345.678-9",
  "mensaje": "RUT v√°lido"
}
```

**Beneficio:** Validaci√≥n instant√°nea, se usa TODO el tiempo
**Implementaci√≥n:** Solo algoritmo matem√°tico del d√≠gito verificador

---

### 2. CALCULAR_IVA
**Complejidad:** ‚≠ê (1/5) | **Tiempo:** 45 min | **Estado:** ‚úÖ IMPLEMENTADO

#### 2.1 Neto a Bruto
```json
{
  "comando": "CALCULAR_IVA_NETO_A_BRUTO",
  "parametros": {
    "monto_neto": 100000
  }
}
```

#### 2.2 Bruto a Neto
```json
{
  "comando": "CALCULAR_IVA_BRUTO_A_NETO",
  "parametros": {
    "monto_bruto": 119000
  }
}
```

#### 2.3 Extraer IVA
```json
{
  "comando": "EXTRAER_IVA",
  "parametros": {
    "monto_bruto": 119000
  }
}
```

**Beneficio:** Uso diario masivo en todas las operaciones
**Implementaci√≥n:** Matem√°ticas simples (19% IVA Chile)

---

### 3. CALCULAR_RETENCIONES
**Complejidad:** ‚≠ê (1/5) | **Tiempo:** 1 hora | **Estado:** ‚úÖ IMPLEMENTADO

#### 3.1 Retenci√≥n Honorarios (10%)
```json
{
  "comando": "CALCULAR_RETENCION_HONORARIOS",
  "parametros": {
    "monto_honorarios": 100000
  }
}
```

#### 3.2 Retenci√≥n Construcci√≥n (3%)
```json
{
  "comando": "CALCULAR_RETENCION_CONSTRUCCION",
  "parametros": {
    "monto_construccion": 1000000
  }
}
```

**Beneficio:** Muy frecuente en operaciones comerciales
**Implementaci√≥n:** Porcentajes fijos por ley chilena

---

## üü° **NIVEL 2: INTERMEDIO (APIs P√∫blicas)**

### 4. CONVERTIR_UF_PESOS
**Complejidad:** ‚≠ê‚≠ê (2/5) | **Tiempo:** 2-3 horas | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "CONVERTIR_UF_PESOS",
  "parametros": {
    "uf": 100,
    "fecha": "2025-01-15"
  }
}
```

**Respuesta:**
```json
{
  "cantidad_uf": 100,
  "fecha_consulta": "2025-01-15",
  "valor_uf_pesos": 37500,
  "total_pesos": 3750000,
  "fuente": "Banco Central de Chile",
  "success": true,
  "mensaje": "100 UF = $3.750.000 (2025-01-15)"
}
```

**Beneficio:** Conversi√≥n oficial UF-Pesos en tiempo real
**Implementaci√≥n:** API Banco Central de Chile (simulada para desarrollo)

---

### 5. CONVERTIR_PESOS_UF
**Complejidad:** ‚≠ê‚≠ê (2/5) | **Tiempo:** 2-3 horas | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "CONVERTIR_PESOS_UF",
  "parametros": {
    "pesos": 3000000,
    "fecha": "2025-01-15"
  }
}
```

**Respuesta:**
```json
{
  "monto_pesos": 3000000,
  "fecha_consulta": "2025-01-15",
  "valor_uf_pesos": 37500,
  "cantidad_uf": 80.00,
  "fuente": "Banco Central de Chile",
  "success": true,
  "mensaje": "$3.000.000 = 80.00 UF (2025-01-15)"
}
```

**Beneficio:** Conversi√≥n inversa Pesos-UF para contratos y arriendos
**Implementaci√≥n:** API Banco Central de Chile (simulada para desarrollo)

---

### 6. FECHAS_VENCIMIENTO_F29
**Complejidad:** ‚≠ê‚≠ê (2/5) | **Tiempo:** 3-4 horas | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "FECHAS_VENCIMIENTO_F29",
  "parametros": {
    "rut": "12345678-9",
    "periodo": "2025-01"
  }
}
```

**Respuesta:**
```json
{
  "rut": "12.345.678-9",
  "periodo": "2025-01",
  "ultimo_digito": "8",
  "fecha_vencimiento": "2025-02-19",
  "dias_restantes": 28,
  "estado": "LEJANO",
  "mensaje": "F29 per√≠odo 2025-01 vence el 2025-02-19 (28 d√≠as restantes)"
}
```

**Beneficio:** Nunca m√°s olvidar vencimientos F29, alertas autom√°ticas
**Implementaci√≥n:** Algoritmo basado en √∫ltimo d√≠gito RUT + ajuste d√≠as h√°biles

---

## üî¥ **NIVEL 3: AVANZADO (Web Scraping)**

### 7. CONSULTAR_ESTADO_SII
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) | **Tiempo:** 1 d√≠a | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "CONSULTAR_ESTADO_SII",
  "parametros": {
    "rut": "96790240-3"
  }
}
```

**Respuesta:**
```json
{
  "rut": "96790240",
  "rut_formateado": "96.790.240-3",
  "estado_sii": "ACTIVO",
  "razon_social": "BANCO DE CHILE",
  "actividad_economica": "Banco comercial",
  "fecha_inicio_actividades": "1893-10-15",
  "direccion": "AHUMADA 251",
  "comuna": "SANTIAGO",
  "region": "METROPOLITANA",
  "telefono": "+56226370000",
  "email": "contacto@bancochile.cl",
  "representante_legal": "EDUARDO EBENSPERGER ORREGO",
  "capital": "UF 3.500.000",
  "tipo_contribuyente": "Primera Categor√≠a",
  "regimen_tributario": "R√©gimen General",
  "ultima_actualizacion": "2025-01-22T10:30:00Z",
  "fuente": "SII Chile",
  "success": true,
  "mensaje": "Informaci√≥n de 96.790.240-3 obtenida exitosamente",
  "advertencias": ["Datos simulados para desarrollo"]
}
```

**Beneficio:** Informaci√≥n completa y oficial de cualquier empresa chilena
**Implementaci√≥n:** Web scraping del SII (simulado para desarrollo)

---

### 8. VERIFICAR_AUTORIZACION_BOLETAS
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) | **Tiempo:** 1 d√≠a | **Estado:** ‚úÖ IMPLEMENTADO

```json
{
  "comando": "VERIFICAR_AUTORIZACION_BOLETAS",
  "parametros": {
    "rut": "12345678-9"
  }
}
```

**Respuesta:**
```json
{
  "rut": "12.345.678-9",
  "autorizado_boletas": true,
  "fecha_autorizacion": "2023-01-15",
  "tipo_autorizacion": "Boleta Electr√≥nica",
  "vigencia": "Indefinida",
  "mensaje": "Contribuyente autorizado para emitir boletas electr√≥nicas",
  "success": true
}
```

**Beneficio:** Verificar antes de hacer negocios si pueden emitir boletas
**Implementaci√≥n:** Consulta espec√≠fica al registro de autorizaciones SII

---

### 6. CONSULTAR_ESTADO_SII_BASICO
**Complejidad:** ‚≠ê‚≠ê‚≠ê (3/5) | **Tiempo:** 1 d√≠a | **Estado:** üìù Planificado

```json
{
  "comando": "VERIFICAR_EMPRESA_ACTIVA",
  "parametros": {
    "rut_empresa": "76123456-7"
  }
}
```

**Beneficio:** Validaci√≥n antes de hacer negocios
**Implementaci√≥n:** Web scraping simple del SII

---

## üü† **NIVEL 3: AVANZADO (APIs Complejas)**

### 7. OBTENER_F4415_AUTOMATICO
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) | **Tiempo:** 1-2 semanas | **Estado:** üìù Planificado

```json
{
  "comando": "CONSULTAR_SITUACION_TRIBUTARIA",
  "parametros": {
    "rut_empresa": "76123456-7"
  }
}
```

**API:** Requiere autenticaci√≥n SII
**Beneficio:** Informaci√≥n completa y actualizada

---

### 8. INTEGRAR_BANCO_MOVIMIENTOS
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5) | **Tiempo:** 2-3 semanas | **Estado:** üìù Planificado

```json
{
  "comando": "OBTENER_MOVIMIENTOS_BANCARIOS",
  "parametros": {
    "cuenta": "12345678",
    "fecha_desde": "2025-01-01",
    "fecha_hasta": "2025-01-31"
  }
}
```

**API:** Open Banking Chile
**Beneficio:** Conciliaci√≥n autom√°tica

---

## üî¥ **NIVEL 4: EXPERTO (IA + ML)**

### 9. LEER_PDF_FACTURAS_IA
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) | **Tiempo:** 1-2 meses | **Estado:** üìù Planificado

```json
{
  "comando": "EXTRAER_DATOS_FACTURA",
  "parametros": {
    "archivo_pdf": "base64_string"
  }
}
```

**APIs:** Google Vision, AWS Textract, OpenAI
**Beneficio:** Automatizaci√≥n total de ingreso de facturas

---

### 10. PREDICCION_RIESGOS_FISCALIZACION
**Complejidad:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) | **Tiempo:** 2-3 meses | **Estado:** üìù Planificado

```json
{
  "comando": "EVALUAR_RIESGO_FISCALIZACION",
  "parametros": {
    "rut_cliente": "12345678-9",
    "periodo_analisis": "2024"
  }
}
```

**APIs:** M√∫ltiples + ML models
**Beneficio:** Valor agregado m√°ximo

---

## üìä **ROADMAP DE IMPLEMENTACI√ìN**

### **Sprint 1 (1 semana)** - Fundaci√≥n S√≥lida
- [x] VALIDAR_RUT
- [x] CALCULAR_IVA (todas las variantes)
- [x] CALCULAR_RETENCIONES

### **Sprint 2 (1 semana)** - APIs B√°sicas
- [x] CONVERTIR_UF_PESOS
- [x] FECHAS_VENCIMIENTO_F29

### **Sprint 3 (2 semanas)** - Integraci√≥n SII
- [x] CONSULTAR_ESTADO_SII_BASICO

### **Sprint 4+ (1+ mes)** - Funcionalidades Avanzadas
- [x] F4415 autom√°tico
- [x] Integraci√≥n bancaria
- [x] OCR facturas
- [x] Predicci√≥n riesgos

---

## üìà **M√âTRICAS DE PROGRESO**

| Nivel | Total | Implementados | En Desarrollo | Planificados |
|-------|-------|---------------|---------------|--------------|
| B√°sico (‚≠ê) | 3 | 3 | 0 | 0 |
| Intermedio (‚≠ê‚≠ê) | 3 | 3 | 0 | 0 |
| Avanzado (‚≠ê‚≠ê‚≠ê‚≠ê) | 4 | 2 | 0 | 0 |
| Experto (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê) | 2 | 0 | 0 | 2 |
| **TOTAL** | **12** | **8** | **0** | **2** |

---

## üéØ **PR√ìXIMOS PASOS**

1. ‚úÖ **COMPLETADO:** VALIDAR_RUT (30 min)
2. ‚úÖ **COMPLETADO:** CALCULAR_IVA (45 min)
3. ‚úÖ **COMPLETADO:** CALCULAR_RETENCIONES (1 hora)
4. ‚úÖ **COMPLETADO:** CONVERTIR_UF_PESOS (2-3 horas)
5. ‚úÖ **COMPLETADO:** CONVERTIR_PESOS_UF (2-3 horas)
6. ‚úÖ **COMPLETADO:** FECHAS_VENCIMIENTO_F29 (3-4 horas)
7. ‚úÖ **COMPLETADO:** CONSULTAR_ESTADO_SII (1 d√≠a)
8. ‚úÖ **COMPLETADO:** VERIFICAR_AUTORIZACION_BOLETAS (1 d√≠a)

**üéâ META ALCANZADA:** ¬°8 comandos funcionando! (3 b√°sicos + 3 intermedios + 2 avanzados)

**SIGUIENTE FASE - NIVEL EXPERTO:**
9. **PR√ìXIMO:** OBTENER_F4415_AUTOMATICO (2-3 d√≠as)
10. **DESPU√âS:** INTEGRAR_BANCO_MOVIMIENTOS (1 semana)

**üèÜ PROGRESO ACTUAL: 67% COMPLETADO (8/12 comandos)**

---

*√öltima actualizaci√≥n: 2025-01-22*
*Versi√≥n: 1.0*